{
  "version": "7.2",
  "data_api_version": "3.0",
  "routing_model": {
    "COLLECT_INFO": ["COLLECT_IMAGE_SCENE"],
    "COLLECT_IMAGE_SCENE": ["SUCCESS_SCREEN"]
  },
  "screens": [
    {
      "id": "COLLECT_INFO",
      "title": "Product Details",
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "üõçÔ∏è Tell us about your product"
          },
          {
            "type": "TextBody",
            "text": "We'll create an amazing scene for your product image!"
          },
          {
            "type": "TextInput",
            "name": "mobile_number",
            "label": "Your Mobile Number",
            "input-type": "phone",
            "helper-text": "For order updates and support"
          },
          {
            "type": "TextInput",
            "name": "product_category",
            "label": "Product Category",
            "required": true,
            "helper-text": "e.g., Electronics, Fashion, Food"
          },
          {
            "type": "Footer",
            "label": "Next Step ‚Üí",
            "on-click-action": {
              "name": "navigate",
              "next": { "type": "screen", "name": "COLLECT_IMAGE_SCENE" }
            }
          }
        ]
      }
    },
    {
      "id": "COLLECT_IMAGE_SCENE",
      "title": "Create Your Scene",
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "üé® Design Your Product Scene"
          },
          {
            "type": "TextBody",
            "text": "Upload your product image and describe the perfect scene!"
          },
          {
            "type": "PhotoPicker",
            "name": "product_image",
            "label": "üì∏ Product Image",
            "photo-source": "camera_gallery",
            "max-uploaded-photos": 1
          },
          {
            "type": "TextArea",
            "name": "scene_description",
            "label": "Scene Description",
            "helper-text": "Be specific! e.g., 'A person using the product on a sunny beach with palm trees in background'"
          },
          {
            "type": "TextInput",
            "name": "price_overlay",
            "label": "üí∞ Price Display",
            "helper-text": "e.g., $19.99, ‚Çπ1,299, ‚Ç¨25.00"
          },
          {
            "type": "Footer",
            "label": "‚ú® Generate Image",
            "on-click-action": {
              "name": "data_exchange",
              "payload": {
                "mobile_number": "${screen.COLLECT_INFO.form.mobile_number}",
                "product_category": "${screen.COLLECT_INFO.form.product_category}",
                "scene_description": "${form.scene_description}",
                "price_overlay": "${form.price_overlay}",
                "product_image": "${form.product_image}"
              }
            }
          }
        ]
      }
    },
    {
      "id": "SUCCESS_SCREEN",
      "title": "Processing Your Image",
      "terminal": true,
      "success": true,
      "data": {
        "image_url": {
          "type": "string",
          "__example__": "https://via.placeholder.com/400x400/4CAF50/white?text=Generating..."
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "üéâ Request Submitted Successfully!"
          },
          {
            "type": "TextBody",
            "text": "üé® We're creating your amazing product scene right now! This process typically takes 10-30 seconds."
          },
          {
            "type": "Image",
            "src": "${data.image_url}"
          },
          {
            "type": "TextBody",
            "text": "üì± You'll receive your generated image directly in this WhatsApp chat in just a moment!"
          },
          {
            "type": "TextBody",
            "text": "üí° Tip: Keep this chat open to receive your beautiful product image!"
          },
          {
            "type": "Footer",
            "label": "Got it! ‚úì",
            "on-click-action": {
              "name": "complete",
              "payload": {
                "status": "processing",
                "mobile_number": "${screen.COLLECT_INFO.form.mobile_number}",
                "product_category": "${screen.COLLECT_INFO.form.product_category}"
              }
            }
          }
        ]
      }
    }
  ]
}
